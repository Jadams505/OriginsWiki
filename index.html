<!DOCTYPE HTML>
<html lang="en">
	<head>
		<--script src="automarkdown.js" defer></script>
		<script>
			window.addEventListener("load", async function () {
				try{
					window.alert(jsLoaded);
					if(jsLoaded){
						onLoad();
						window.alert('javascript loaded normally');
					}else{
						window.alert('cosmic ray bit flip occurred or hardware is failing');
					}
				}catch(e){
					let log = document.getElementById("log");
					try{
						log.textContent+= '\n'+e+', loading javascript by force';
						let response = await fetch('https://tyfyter.github.io/OriginsWiki/automarkdown.js', {mode:"same-origin"});
						log.textContent+= '\npassed response';
						let text = await response.text();
						log.textContent+= '\npassed text';
						eval(text);
						log.textContent+= '\npassed eval';
						onLoad();
						log.textContent+= '\njavascript loaded by force';
					}catch(err){
						log.innerHTML+= '<div style="color:red;">fatal: '+err+'</div>';
					}
				}
			});
		</script>
		<link rel="stylesheet" href="styling.css"></link>
	</head>
	<body>
		<article id="content">
			{biomecontent
				{
					header:Characters
					items:[
						{
							header:[link The Corruption|$default|https://terraria.fandom.com/wiki/The_Corruption],
							items:[
								test 1,
								test 2,
								test 3
							]
						}
						Cubix
						test
					]
				}
			biomecontent}
			<a href="biomes.html"><b>Biomes</b></a>
			<div id="table-of-contents" style="border: 1px solid grey; display: table; margin: 24px auto 24px 0;"></div>
			<details class="section" id="section1">
				<summary>section number 1</summary>
				<div>section 1
					<details class="section" id="section1.1">
						<summary>section number 1.1</summary>
						<div>this is section 1.1</div>
					</details>
				</div>
			</details>
			<div class="divider"></div>
			<details class="section" id="section2">
				<summary>section number 2</summary>
				<div>section 2</div>
			</details>
		</article>
		<div id="log"></div>
	</body>
</html>